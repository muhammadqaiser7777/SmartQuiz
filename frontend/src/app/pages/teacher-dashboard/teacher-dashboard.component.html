<div class="dashboard-container">
    <div class="header">
        <h1>Teacher Dashboard</h1>
        <div class="header-actions">
            <app-user-menu></app-user-menu>
        </div>
    </div>

    <div class="content-section">
        <div class="section-header">
            <h2>My Classes & Courses</h2>
        </div>

        <div *ngIf="loading" class="loading-container">
            <div class="loading-spinner"></div>
            <p>Loading assignments...</p>
        </div>

        <div *ngIf="error" class="error-message">
            <p>{{ error }}</p>
            <button class="btn-primary" (click)="loadAssignments()">Retry</button>
        </div>

        <div *ngIf="!loading && !error && assignments.length === 0" class="empty-state">
            <p>No classes or courses assigned yet.</p>
        </div>

        <div *ngIf="!loading && !error && assignments.length > 0" class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Class</th>
                        <th>Course</th>
                        <th>Total Students</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let assignment of assignments">
                        <td class="class-name">{{ assignment.className }}</td>
                        <td class="course-name">{{ assignment.courseName }}</td>
                        <td class="student-count">{{ assignment.totalStudents }}</td>
                        <td>
                            <button class="btn-action" (click)="viewDetails(assignment)">
                                View Details
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div *ngIf="!loading && !error && totalPages > 1" class="pagination">
            <button class="pagination-btn" [disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">
                Previous
            </button>

            <button *ngFor="let page of getPageNumbers()" class="pagination-btn" [class.active]="page === currentPage"
                (click)="goToPage(page)">
                {{ page }}
            </button>

            <button class="pagination-btn" [disabled]="currentPage === totalPages" (click)="goToPage(currentPage + 1)">
                Next
            </button>
        </div>

        <div *ngIf="!loading && !error && totalAssignments > 0" class="pagination-info">
            <p>Showing {{ assignments.length }} of {{ totalAssignments }} assignments</p>
        </div>
    </div>
</div>